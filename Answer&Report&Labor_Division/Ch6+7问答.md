Ch6

1. 在我们的easy-fs中，root inode起着什么作用？如果root inode中的内容损坏了，会发生什么？

      root inode代表着根目录，是整个文件系统（文件树）的起点，是所有的相对和绝对路径的参照点。

      如果root inode中的内容损坏，系统将无法正确挂载文件系统，无法访问任何文件和目录。

Ch7

   1. 举出使用 pipe 的一个实际应用的例子。
   
      tips:

   - 想想你平时咋使用 linux terminal 的？
   - 如何使用 cat 和 wc 完成一个文件的行数统计？

      我们用两个程序对比，展示pipe的实际应用。两个程序的功能都是完成一个文件的行数统计。

      ①不使用pipe：先用 cat 将文件内容输出到临时文件，再用 wc -l统计临时文件的行数。最后删除临时文件。

      ```rust
      cat filename.txt > temp.txt
      
      wc -l temp.txt
      
      rm temp.txt
      
      ```

      这种方法需要创建临时文件保存中间结果，这会占用额外的磁盘空间，并且增加了文件操作的开销。

      ②使用pipe：通过pipe直接将 cat的输出传递给 wc -l ，无需创建临时文件。

      ```
      cat filename.txt | wc -l
      ```

      从两个例子的对比中可以看出，pipe机制避免了创建临时文件和额外的文件读写操作，节约资源，提高效率。

   2. 如果需要在多个进程间互相通信，则需要为每一对进程建立一个管道，非常繁琐，请设计一个更易用的多进程通信机制。

      1. 组件：

         ①通信中心
         
         功能：

         管理所有进程的连接，为新加入的进程建立连接，并为退出的进程关闭连接。

         接收各进程的消息，并根据目标进程标识符，将消息传递给目的进程。

         监控进程状态，处理进程故障。

         实现：

         作为独立的守护进程运行，使用TCP/IP来接收和发送消息。

         ②客户端库

         功能：

         提供API，用于建立和管理与通信中心连接，并创建和管理套接字。

         提供方法来发送消息到通信中心，提供监听器，接收和处理其他进程的消息。

         提供加密机制，以保证安全性。

         ③消息队列

         功能：

         为每个进程维护一个消息队列，当进程不可用时，缓存发往该进程的消息。

         提供消息可靠性保障机制，包括重试机制和确认响应。

         实现：

         维护一个内存中的队列。

      2. 工作原理

         ①每个进程在创建时，使用客户端库，与通信中心建立连接。

         ②进程发送消息时，消息被传递到通信中心，通信中心负责将消息路由到正确的接收进程。

         ③接收进程使用客户端库，从对应的消息队列中接收消息。

         ④进程退出时，通信中心关闭连接。

      3. 易用性

         ①使用了简化的接口，进程只需与通信中心交互，而不是直接与其他进程通信。

         ②支持一对一、一对多和多对多的通信模式，更加灵活。

         ③进程间不需要知道对方的具体信息，只需知道目标进程的标识符，更加方便。

​			